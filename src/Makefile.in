PROGRAM=rapidsvn

CXX=@CXX@

OBJECTS=action.o \
		action_thread.o \
		add_action.o \
		checkout_action.o \
		checkout_dlg.o \
		cleanup_action.o \
		commit_action.o \
		commit_dlg.o \
		copy_action.o \
		delete_action.o \
		delete_dlg.o \
		exceptions.o \
		file_action.o \
		filelist_ctrl.o \
		folder_browser.o \
		folder_item_data.o \
		import_action.o \
		import_dlg.o \
		include.o \
		log_action.o \
		log_dlg.o \
		merge_action.o \
		merge_dlg.o \
		mkdir_action.o \
		mkdir_dlg.o \
		preferences_dlg.o \
		property_action.o \
		property_dlg.o \
		report_dlg.o \
		resolve_action.o \
		revert_action.o \
		simple_worker.o \
		svn_file_info.o \
		svn_notify.o \
		trace_commit.o \
		trace_update.o \
		tracer.o \
		update_action.o \
		update_dlg.o \
		utils.o \
		rapidsvn_frame.o \
		rapidsvn_app.o \
		svncpp/auth.o \
		svncpp/client.o \
		svncpp/exception.o \
		svncpp/notify.o \
		svncpp/log.o \
		svncpp/modify.o \
		svncpp/path.o \
		svncpp/property.o \
		svncpp/pool.o \
		svncpp/revision.o \
		svncpp/status.o \
		svncpp/targets.o

APR_LIBS=@APR_LIBS@
WX_LIBS=@WX_LIBS@
# insert -lefence if you want to debug memory problems
LIBS=-lsvn_client-1 -lsvn_wc-1 -lsvn_ra-1 -lsvn_delta-1 -lsvn_subr-1 \
		$(SVN_APRUTIL_LIBS) $(SVN_APR_LIBS) $(NEON_LIBS) $(APR_LIBS) \
		$(WX_LIBS)
#you can debug your application with electric fence.
#just uncomment the following line (you must have electric fence installed)
#LIBS=-lefence $(LIBS)
SVN_INC=-I/usr/local/include/subversion-1
CXXFLAGS=@CXXFLAGS@ -Wall -fexceptions

# implementation

.SUFFIXES:	.o .cpp

.cpp.o:
	$(CXX) -c -g $(SVN_INC) $(CXXFLAGS) -o $@ $<

all:    $(PROGRAM)

$(PROGRAM):	$(OBJECTS)
	$(CXX) -o $(PROGRAM)  $(LIBS) $(OBJECTS)

clean: 
	rm -f *.o svncpp/*.o $(PROGRAM)
