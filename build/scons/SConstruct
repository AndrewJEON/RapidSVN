from glob import glob
import os.path

svncpp_env = Environment()
svncpp_sources = glob("../../src/svncpp/*.cpp")
svncpp_env.StaticLibrary(source = svncpp_sources, target = "svncpp")
svncpp_env.Append(CPPPATH = ['../../include'])

svncpp_deps = {
	'svn': ['/usr/include/subversion-1'],
	'apr': ['/usr/include/apr-1.0']
}

for dep in svncpp_deps:
	for dir in svncpp_deps[dep]:
		if os.path.isdir(dir):
			svncpp_env.Append(CPPPATH = [dir])
			break

#SConscript('SConscript', variant_dir='release', duplicate=0, exports={'MODE':'release'})
#SConscript('SConscript', variant_dir='debug', duplicate=0, exports={'MODE':'debug'})
rapidsvn_env = Environment()
rapidsvn_sources = glob("../../src/*.cpp")
rapidsvn_env.ParseConfig('wx-config --cxxflags --libs')
rapidsvn_env.Append(CPPPATH = svncpp_deps['svn'][0])
rapidsvn_env.Append(CPPPATH = svncpp_deps['apr'][0])
rapidsvn_env.Append(CPPPATH = ['../../include'])
rapidsvn_env.Program(source = rapidsvn_sources, target = "rapidsvn")

